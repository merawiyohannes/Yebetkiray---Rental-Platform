{% extends "core/base.html" %}
{% block title %}Sign Up - Yebet Kiray{% endblock %}

{% block content %}

    <div class="bg-green-50 min-h-screen flex items-center justify-center py-8">
    <div class="max-w-md w-full mx-4">
        <!-- Header -->
        <div class="text-center mb-8">
            <div class="flex items-center justify-center mb-4">
                <h1 class="text-3xl font-bold text-green-800">Yebet Kiray</h1>
                <span class="ml-2 text-yellow-600 font-semibold">የቤት ኪራይ</span>
            </div>
            <h2 class="text-2xl font-semibold text-green-800">Create Your Account</h2>
            <p class="text-green-600 mt-1">Join Ethiopia's rental community</p>
        </div>

        <!-- Signup Form -->
        <div class="bg-white rounded-lg shadow-md p-6 border border-green-200">
            <form method="post" class="space-y-4">
                {% csrf_token %}
                
                <!-- Email Field -->
                <div>
                    <label for="email" class="block text-green-800 mb-1 font-medium">Email Address</label>
                    {{ user_form.email }}
                    {% if user_form.email.errors %}
                        <div class="error-message">
                            {% for error in user_form.email.errors %}
                                <p>{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>

                <!-- Password Field -->
                <div>
                    <label for="password1" class="block text-green-800 mb-1 font-medium">Password</label>
                    {{ user_form.password1 }}
                    {% if user_form.password1.errors %}
                        <div class="error-message">
                            {% for error in user_form.password1.errors %}
                                <p>{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>

                <!-- Confirm Password Field -->
                <div>
                    <label for="password2" class="block text-green-800 mb-1 font-medium">Confirm Password</label>
                    {{ user_form.password2 }}
                    {% if user_form.password2.errors %}
                        <div class="error-message">
                            {% for error in user_form.password2.errors %}
                                <p>{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>

                <!-- User Type Selection - COMPACT ONE-LINE VERSION -->
                <div>
                    <div class="flex space-x-4">
                        {% for choice in role_form.user_type %}
                            <div>
                                <input type="radio" name="{{ role_form.user_type.name }}" 
                                       value="{{ choice.data.value }}" 
                                       id="{{ choice.id_for_label }}"
                                       class=""
                                       {% if choice.data.selected %}checked{% endif %}>
                                <label for="{{ choice.id_for_label }}" class="radio-container">
                                    <span class="custom-radio"></span>
                                    <span class="text-sm text-gray-700">{{ choice.choice_label }}</span>
                                </label>
                            </div>
                        {% endfor %}
                    </div>
                    {% if role_form.user_type.errors %}
                        <div class="error-message">
                            {% for error in role_form.user_type.errors %}
                                <p>{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>

                <!-- Submit Button -->
                <button type="submit" class="w-full bg-green-800 text-white py-3 rounded-lg font-semibold hover:bg-green-900 transition duration-200">
                    Create Account
                </button>
            </form>

            <!-- Login Link -->
            <div class="mt-6 text-center pt-4 border-t border-green-200">
                <p class="text-green-600">Already have an account? 
                    <a href="{% url 'login_view' %}" class="text-green-800 font-semibold hover:underline">
                        Login here
                    </a>
                </p>
            </div>
        </div>

        <!-- Non-field Errors -->
        {% if user_form.non_field_errors %}
            <div class="mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg">
                <h3 class="font-semibold mb-2">Please fix the following errors:</h3>
                <ul class="list-disc list-inside ml-4">
                    {% for error in user_form.non_field_errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
    </div>
    </div>

{% endblock %}